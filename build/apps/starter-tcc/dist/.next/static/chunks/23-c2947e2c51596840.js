"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23],{23:(e,n,t)=>{t.d(n,{wI:()=>eM,sn:()=>nx,vm:()=>eU,tZ:()=>nT});var r=t(6029),a=t(42972),i=t(86415),l=t(72937),o=t(2522),s=t(13897),d=t(34437),c=t(73908),u=t(55729),m=t(57165),p=t(49998),g=t(5657);let f=(0,g.zt)(),A=e=>g.FH.get(f.CLASS_ROOM_API,{headers:e?{Authorization:"Bearer ".concat(e)}:{}}).then(e=>e.data),h=()=>(0,m.Ay)([f.CLASS_ROOM_API],A),v=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3?arguments[3]:void 0;return g.FH.get("".concat(f.CLASS_ROOM_API,"/").concat(e).concat(f.COURSES_API),{headers:r?{Authorization:"Bearer ".concat(r)}:{},params:{page:n,limit:t}}).then(e=>e.data)},x=e=>{let{classRoomId:n,page:t,limit:r,token:a}=e,i=n?[f.CLASS_ROOM_API,f.COURSES_API,n,t,r]:null;return(0,m.Ay)(i,()=>v(n,t,r,a),{revalidateIfStale:!0})},j=e=>g.FH.post(f.CLASS_ROOM_API,e).then(e=>e.data),O=()=>(0,p.A)([f.CLASS_ROOM_API,"post"],(e,n)=>{let{arg:t}=n;return j(t)}),b=(e,n,t)=>g.FH.patch("".concat(f.CLASS_ROOM_API,"/").concat(e).concat(f.COURSES_API,"/").concat(n,"/enable"),null,{headers:t?{Authorization:"Bearer ".concat(t)}:{}}).then(e=>e.data),_=()=>(0,p.A)([f.CLASS_ROOM_API,"courses-enable"],(e,n)=>{let{arg:t}=n;return b(t.classRoomId,t.courseId,t.token)}),S=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3?arguments[3]:void 0;return g.FH.get("".concat(f.CLASS_ROOM_API,"/").concat(e).concat(f.STUDENTS_API),{headers:r?{Authorization:"Bearer ".concat(r)}:{},params:{page:n,limit:t}}).then(e=>e.data)},I=e=>{let{classRoomId:n,page:t,limit:r,token:a}=e,i=n?[f.CLASS_ROOM_API,f.STUDENTS_API,n,t,r]:null;return(0,m.Ay)(i,()=>S(n,t,r,a))},R=(0,g.zt)(),y=e=>g.FH.get("".concat(R.COURSE_API,"/").concat(e)).then(e=>e.data),C=e=>(0,m.Ay)(e?[R.COURSE_API,e]:null,()=>y(e)),E=e=>g.FH.post(R.COURSE_API,e).then(e=>e.data),L=()=>(0,p.A)([R.COURSE_API,"post"],(e,n)=>{let{arg:t}=n;return E(t)}),D=e=>g.FH.put("".concat(R.COURSE_API,"/").concat(e.id),e).then(e=>e.data),T=()=>(0,p.A)([R.COURSE_API,"put"],(e,n)=>{let{arg:t}=n;return D(t)}),P=(0,g.zt)(),N=(e,n)=>g.FH.get("".concat(P.STUDENT_API,"/").concat(e),{headers:n?{Authorization:"Bearer ".concat(n)}:{}}).then(e=>e.data),M=e=>e?(0,m.Ay)([P.STUDENT_API,e],()=>N(e)):{data:null,error:null,isLoading:!1};var H=t(1909),w=t(11616),U=t(4049),W=t(44981),k=t(19104),V=t(10789),B=t(22342),F=t(35583),z=t(85966),G=t(50787),Q=t(85572),q=t(83004);function Y(){let e=(0,z._)(["\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n    margin-top: ",";\n  "]);return Y=function(){return e},e}function X(){let e=(0,z._)(["\n  ","\n"]);return X=function(){return e},e}function Z(){let e=(0,z._)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    gap: ",";\n    width: 100%;\n  "]);return Z=function(){return e},e}function J(){let e=(0,z._)(["\n  ","\n"]);return J=function(){return e},e}function K(){let e=(0,z._)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: ",";\n    width: 100%;\n    margin-top: ",";\n  "]);return K=function(){return e},e}function $(){let e=(0,z._)(["\n  ","\n"]);return $=function(){return e},e}let ee=(0,G.Ay)(Q.A)(X(),e=>{let{theme:n}=e;return(0,q.AH)(Y(),n.spacing(1),n.spacing(2))});(0,G.Ay)(Q.A)(J(),e=>{let{theme:n}=e;return(0,q.AH)(Z(),n.spacing(1))}),(0,G.Ay)(Q.A)($(),e=>{let{theme:n}=e;return(0,q.AH)(K(),n.spacing(1),n.spacing(2))});let en={name:"",url:"",type:"video"},et={label:"Nome",errorMessages:{REQUIRED:"O nome \xe9 obrigat\xf3rio.",INVALID:"Informe um nome v\xe1lido.",TOO_SHORT:"O nome deve ter no m\xednimo 2 caracteres.",TOO_LONG:"O nome deve ter no m\xe1ximo 50 caracteres."}},er={label:"URL",errorMessages:{REQUIRED:"A URL \xe9 obrigat\xf3rio.",INVALID:"Informe uma URL v\xe1lida.",TOO_SHORT:"A URL deve ter no m\xednimo 2 caracteres.",TOO_LONG:"A URL deve ter no m\xe1ximo 50 caracteres."}},ea={options:[{value:"video",label:"V\xeddeo"},{value:"form",label:"Form"},{value:"pdf",label:"PDF"}],errorMessages:{REQUIRED:"Selecione uma op\xe7\xe3o.",INVALID:"Selecione uma op\xe7\xe3o v\xe1lida."}};var ei=t(21941);let el=ei.Ik().shape({id:ei.Yj(),name:ei.Yj().min(2,et.errorMessages.TOO_SHORT).max(50,et.errorMessages.TOO_LONG).required(et.errorMessages.REQUIRED),url:ei.Yj().min(2,er.errorMessages.TOO_SHORT).max(100,er.errorMessages.TOO_LONG).url(er.errorMessages.INVALID).required(er.errorMessages.REQUIRED),type:ei.Yj().oneOf(ea.options.map(e=>e.value),ea.errorMessages.INVALID).required(ea.errorMessages.REQUIRED)}).required(),eo=e=>{var n,t;let{open:l=!0,defaultValues:o,onSubmit:s,onClose:m}=e,{register:p,formState:{errors:g,isValid:f},handleSubmit:A,reset:h,control:v}=(0,H.mN)({mode:"onBlur",reValidateMode:"onBlur",defaultValues:null!=o?o:en,resolver:(0,W.t)(el)});(0,u.useEffect)(()=>{h(null!=o?o:en)},[o,h]);let x=async e=>{null==s||s(e),h()};return(0,r.jsx)(c.ActionDialog,{open:l,title:"Nova li\xe7\xe3o",onClose:m,isDraggable:!0,children:(0,r.jsxs)("form",{onSubmit:A(x),children:[(0,r.jsxs)(w.A,{container:!0,spacing:2,children:[(0,r.jsx)(U.A,{fullWidth:!0,label:et.label,variant:"outlined",error:!!g.name,helperText:null===(n=g.name)||void 0===n?void 0:n.message,...p("name")}),(0,r.jsx)(U.A,{fullWidth:!0,label:er.label,variant:"outlined",error:!!g.url,helperText:null===(t=g.url)||void 0===t?void 0:t.message,...p("url")}),(0,r.jsxs)(i.A,{error:!!g.type,children:[(0,r.jsx)(k.A,{id:"lesson-type-radio-group-label",children:"Tipo da li\xe7\xe3o"}),(0,r.jsx)(H.xI,{name:"type",control:v,rules:{required:"Selecione um tipo de li\xe7\xe3o"},render:e=>{let{field:n}=e;return(0,r.jsx)(V.A,{row:!0,"aria-labelledby":"lesson-type-radio-group-label",value:n.value,onChange:n.onChange,children:ea.options.map(e=>(0,r.jsx)(B.A,{value:e.value,control:(0,r.jsx)(F.A,{}),label:e.label},e.value))})}}),g.type&&(0,r.jsx)(a.A,{color:"error",variant:"caption",children:g.type.message})]})]}),(0,r.jsxs)(ee,{children:[(0,r.jsx)(d.A,{fullWidth:!0,variant:"contained",type:"submit",disabled:!f,children:"Salvar"}),(0,r.jsx)(d.A,{fullWidth:!0,variant:"outlined",onClick:m,children:"Cancelar"})]})]})})};function es(){let e=(0,z._)(["\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n    margin-top: ",";\n  "]);return es=function(){return e},e}function ed(){let e=(0,z._)(["\n  ","\n"]);return ed=function(){return e},e}function ec(){let e=(0,z._)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    gap: ",";\n    width: 100%;\n  "]);return ec=function(){return e},e}function eu(){let e=(0,z._)(["\n  ","\n"]);return eu=function(){return e},e}function em(){let e=(0,z._)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: ",";\n    width: 100%;\n    margin-top: ",";\n  "]);return em=function(){return e},e}function ep(){let e=(0,z._)(["\n  ","\n"]);return ep=function(){return e},e}let eg=(0,G.Ay)(Q.A)(ed(),e=>{let{theme:n}=e;return(0,q.AH)(es(),n.spacing(1),n.spacing(2))}),ef=(0,G.Ay)(Q.A)(eu(),e=>{let{theme:n}=e;return(0,q.AH)(ec(),n.spacing(1))}),eA=(0,G.Ay)(Q.A)(ep(),e=>{let{theme:n}=e;return(0,q.AH)(em(),n.spacing(1),n.spacing(2))}),eh={titleNew:"Novo curso",titleEdit:"Editar curso"},ev={label:"Nome",errorMessages:{REQUIRED:"O nome \xe9 obrigat\xf3rio.",INVALID:"Informe um nome v\xe1lid0.",TOO_SHORT:"O nome deve ter no m\xednimo 2 caracteres.",TOO_LONG:"O nome deve ter no m\xe1ximo 50 caracteres."}},ex={label:"Descri\xe7\xe3o",errorMessages:{REQUIRED:"A descri\xe7\xe3o \xe9 obrigat\xf3ria.",INVALID:"Informe uma descri\xe7\xe3o v\xe1lida.",TOO_SHORT:"A descri\xe7\xe3o deve ter no m\xednimo 2 caracteres.",TOO_LONG:"A descri\xe7\xe3o deve ter no m\xe1ximo 50 caracteres."}},ej={label:"Li\xe7\xf5es",errorMessages:{REQUIRED:"A descri\xe7\xe3o \xe9 obrigat\xf3ria.",INVALID:"Informe uma descri\xe7\xe3o v\xe1lida.",TOO_SHORT:"A descri\xe7\xe3o deve ter no m\xednimo 2 caracteres.",TOO_LONG:"A descri\xe7\xe3o deve ter no m\xe1ximo 50 caracteres.",INVALID_URL:"Informe uma URL v\xe1lida.",MIN_ITEMS:"Informe pelo menos uma li\xe7\xe3o."}},eO={name:"",description:"",lessons:[]},eb=ei.Ik().shape({id:ei.Yj().optional(),name:ei.Yj().min(2,ev.errorMessages.TOO_SHORT).max(50,ev.errorMessages.TOO_LONG).required(ev.errorMessages.REQUIRED),description:ei.Yj().min(2,ex.errorMessages.TOO_SHORT).max(50,ex.errorMessages.TOO_LONG).required(ex.errorMessages.REQUIRED),lessons:ei.YO().min(1,ej.errorMessages.MIN_ITEMS).of(el).required(ej.errorMessages.REQUIRED)}).required();var e_=t(39401),eS=t(45690),eI=t(80824);function eR(){let e=(0,z._)(["\n    display: flex;\n    align-items: center;\n    gap: ",";\n    padding: ",";\n    cursor: pointer;\n    width: 100%;\n  "]);return eR=function(){return e},e}function ey(){let e=(0,z._)(["\n  ","\n"]);return ey=function(){return e},e}function eC(){let e=(0,z._)(["\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n  "]);return eC=function(){return e},e}function eE(){let e=(0,z._)(["\n  ","\n"]);return eE=function(){return e},e}let eL=(0,G.Ay)("div")(ey(),e=>{let{theme:n}=e;return(0,q.AH)(eR(),n.spacing(2),n.spacing(1))}),eD=(0,G.Ay)("div")(eE(),e=>{let{theme:n}=e;return(0,q.AH)(eC())}),eT=e=>{let{lesson:n,onDelete:t,onEdit:i}=e;return(0,r.jsxs)(eL,{children:[(0,r.jsxs)(eD,{children:[(0,r.jsx)(a.A,{variant:"body1",component:"p",children:n.name}),(0,r.jsx)(a.A,{variant:"body2",component:"span",children:n.type})]}),(0,r.jsx)(eI.A,{onClick:()=>null==i?void 0:i(n.id),children:(0,r.jsx)(eS.A,{})}),(0,r.jsx)(eI.A,{onClick:()=>t(n.id),children:(0,r.jsx)(e_.A,{})})]})},eP=e=>{var n,t;let{open:i=!0,defaultValues:l,isEditing:o,onClose:s,onSubmit:m}=e,{titleNew:p,titleEdit:g}=eh,{data:f,isLoading:A,mutate:h}=C(o?null==l?void 0:l.id:null),{updateCoursesList:v}=eH(),[x,j]=(0,u.useState)({open:!1}),{trigger:O}=L(),{trigger:b}=T(),{register:_,formState:{errors:S,isValid:I},handleSubmit:R,control:y,reset:E}=(0,H.mN)({mode:"onBlur",reValidateMode:"onBlur",defaultValues:l,resolver:(0,W.t)(eb)}),{fields:D,move:P,append:N,remove:M,update:k}=(0,H.jz)({control:y,name:"lessons"}),V=async e=>{x.lesson?k(D.findIndex(e=>{var n;return e.id===(null===(n=x.lesson)||void 0===n?void 0:n.id)}),e):N(e),j({open:!1})},B=async e=>{try{o?(await b(e),await h(),await v(),(0,c.showSnackBar)({message:"Curso ".concat(e.name," atualizado com sucesso!"),type:"success"})):(await O(e),await v(),(0,c.showSnackBar)({message:"Curso ".concat(e.name," criado com sucesso!"),type:"success"})),null==m||m()}catch(n){(0,c.showSnackBar)({message:"Erro ao ".concat(o?"atualizar":"criar"," curso ").concat(e.name,". Verifique os dados e tente novamente."),type:"error"})}null==s||s()};return((0,u.useEffect)(()=>{i&&!A&&E(null!=f?f:eO)},[f,i,E]),A)?(0,r.jsx)(c.Loader,{}):(0,r.jsxs)(c.ActionDialog,{open:i,title:o?g:p,onClose:s,children:[(0,r.jsxs)("form",{onSubmit:R(B),children:[(0,r.jsxs)(w.A,{container:!0,spacing:2,children:[(0,r.jsx)(U.A,{fullWidth:!0,label:ev.label,variant:"outlined",error:!!S.name,helperText:null===(n=S.name)||void 0===n?void 0:n.message,..._("name")}),(0,r.jsx)(U.A,{fullWidth:!0,label:ex.label,variant:"outlined",error:!!S.description,helperText:null===(t=S.description)||void 0===t?void 0:t.message,..._("description")}),(0,r.jsxs)(eA,{children:[(0,r.jsxs)(ef,{children:[(0,r.jsx)(a.A,{variant:"h4",component:"h3",children:ej.label}),(0,r.jsx)(d.A,{variant:"contained",color:"primary",onClick:()=>j({open:!0}),children:"Adicionar"})]}),(0,r.jsx)(c.SortableList,{items:D,onChange:e=>{let n=D.map(e=>e.id),t=e.map(e=>e.id);for(let e=0;e<t.length;e++)if(t[e]!==n[e]){P(n.indexOf(t[e]),e);break}},renderItem:(e,n)=>(0,r.jsxs)(c.SortableList.Item,{id:e.id,children:[(0,r.jsx)(c.SortableList.DragHandle,{}),(0,r.jsx)(eT,{lesson:e,onEdit:()=>j({open:!0,lesson:e}),onDelete:()=>M(n)})]})})]})]}),(0,r.jsxs)(eg,{children:[(0,r.jsx)(d.A,{fullWidth:!0,variant:"contained",type:"submit",disabled:!I,children:"Salvar"}),(0,r.jsx)(d.A,{fullWidth:!0,variant:"outlined",onClick:s,children:"Cancelar"})]})]}),(0,r.jsx)(eo,{open:x.open,defaultValues:x.lesson,onSubmit:V,onClose:()=>j({open:!1})})]})},eN=(0,u.createContext)({}),eM=e=>{let{children:n}=e,{data:t,isLoading:a}=h(),[i,l]=(0,u.useState)(null==t?void 0:t[0].id),[o,s]=(0,u.useState)(0),{data:d,isLoading:c,mutate:m}=x({classRoomId:i,page:o+1,limit:10}),[p,g]=(0,u.useState)({open:!1});return(0,u.useEffect)(()=>{var e;(null==t?void 0:null===(e=t[0])||void 0===e?void 0:e.id)&&l(t[0].id)},[t]),(0,r.jsxs)(eN.Provider,{value:{classRooms:t,classRoomCourses:d,selectedClassRoom:i,isLoadingClasses:!t||a,isLoadingCourses:!d||c,updateCoursesList:m,setModalCourseOpen:g,setSelectedClassRoom:l,setClassRoomCoursesPage:s,classRoomCoursesPage:o},children:[n,(0,r.jsx)(eP,{open:p.open,isEditing:!!p.course,defaultValues:p.course,onClose:()=>g({open:!1})})]})},eH=()=>(0,u.useContext)(eN),ew=(0,u.createContext)({}),eU=e=>{let{children:n}=e,{data:t,isLoading:a}=h(),[i,l]=(0,u.useState)(null==t?void 0:t[0].id),[o,s]=(0,u.useState)(0),{data:d,isLoading:c}=I({classRoomId:i,page:o+1,limit:10}),[m,p]=(0,u.useState)({open:!1});return(0,u.useEffect)(()=>{var e;(null==t?void 0:null===(e=t[0])||void 0===e?void 0:e.id)&&l(t[0].id)},[t]),(0,r.jsx)(ew.Provider,{value:{classRooms:t,classRoomStudents:d,classRoomStudentsPage:o,selectedClassRoom:i,isLoadingClasses:!t&&a,isLoadingStudents:!d&&c,studentView:m,setStudentView:p,setSelectedClassRoom:l,setClassRoomStudentsPage:s},children:n})},eW=()=>(0,u.useContext)(ew);var ek=t(82358);function eV(){let e=(0,z._)(["\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n    margin-top: ",";\n  "]);return eV=function(){return e},e}function eB(){let e=(0,z._)(["\n  ","\n"]);return eB=function(){return e},e}let eF=(0,G.Ay)(Q.A)(eB(),e=>{let{theme:n}=e;return(0,q.AH)(eV(),n.spacing(1),n.spacing(2))}),ez={label:"Nome",errorMessages:{REQUIRED:"O nome \xe9 obrigat\xf3rio.",INVALID:"Informe um nome v\xe1lido.",TOO_SHORT:"O nome deve ter no m\xednimo 2 caracteres.",TOO_LONG:"O nome deve ter no m\xe1ximo 50 caracteres."}},eG=ei.Ik().shape({name:ei.Yj().min(2,ez.errorMessages.TOO_SHORT).max(50,ez.errorMessages.TOO_LONG).required(ez.errorMessages.REQUIRED)}).required(),eQ=e=>{var n;let{open:t=!0,defaultValues:a,onClose:i}=e,[l,o]=(0,u.useState)(!1),{trigger:s}=O(),{register:m,formState:{errors:p,isValid:g},handleSubmit:f}=(0,H.mN)({mode:"onBlur",reValidateMode:"onBlur",defaultValues:a,resolver:(0,W.t)(eG)}),A=async e=>{o(!0);try{await s(e),(0,c.showSnackBar)({message:"Sala de aula criada com sucesso",type:"success"})}catch(e){(0,c.showSnackBar)({message:"Erro ao criar sala de aula",type:"error"})}o(!1),null==i||i()};return(0,r.jsx)(c.ActionDialog,{open:t,title:"Nova sala de aula",onClose:i,maxWidth:"sm",fullWidth:!0,children:(0,r.jsxs)("form",{onSubmit:f(A),children:[(0,r.jsx)(w.A,{container:!0,spacing:2,children:(0,r.jsx)(U.A,{fullWidth:!0,label:ez.label,variant:"outlined",error:!!p.name,helperText:null===(n=p.name)||void 0===n?void 0:n.message,...m("name")})}),(0,r.jsxs)(eF,{children:[(0,r.jsx)(ek.A,{fullWidth:!0,variant:"contained",type:"submit",disabled:!g,loading:l,children:"Salvar"}),(0,r.jsx)(d.A,{fullWidth:!0,variant:"outlined",type:"submit",onClick:i,children:"Cancelar"})]})]})})},eq=()=>{let[e,n]=(0,u.useState)({open:!1,defaultValues:null});return{classRoomForm:e,openClassRoomForm:e=>{n({open:!0,defaultValues:e})},closeClassRoomForm:()=>{n({open:!1,defaultValues:null})}}};function eY(){let e=(0,z._)(["\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n    width: 100%;\n  "]);return eY=function(){return e},e}function eX(){let e=(0,z._)(["\n  ",";\n"]);return eX=function(){return e},e}function eZ(){let e=(0,z._)(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    gap: ",";\n  "]);return eZ=function(){return e},e}function eJ(){let e=(0,z._)(["\n  ",";\n"]);return eJ=function(){return e},e}function eK(){let e=(0,z._)(["\n    display: flex;\n    gap: ",";\n    justify-content: space-between;\n    width: 100%;\n  "]);return eK=function(){return e},e}function e$(){let e=(0,z._)(["\n  ",";\n"]);return e$=function(){return e},e}function e0(){let e=(0,z._)(["\n  "]);return e0=function(){return e},e}function e1(){let e=(0,z._)(["\n  ",";\n"]);return e1=function(){return e},e}let e2=(0,G.Ay)("div")(eX(),e=>{let{theme:n}=e;return(0,q.AH)(eY(),n.spacing(3))});(0,G.Ay)("aside")(eJ(),e=>{let{theme:n}=e;return(0,q.AH)(eZ(),n.spacing(2))});let e5=(0,G.Ay)("div")(e$(),e=>{let{theme:n}=e;return(0,q.AH)(eK(),n.spacing(2))});(0,G.Ay)("div")(e1(),e=>{let{theme:n}=e;return(0,q.AH)(e0())});let e3=[{id:"enabled",label:"Habilitado",minWidth:50},{id:"name",label:"Curso",minWidth:100},{id:"start-date",label:"Data iniciado",minWidth:200,align:"left",format:e=>e.toLocaleString("pt-BR")},{id:"end-date",label:"Data finalizado",minWidth:200,align:"left",format:e=>e.toLocaleString("pt-BR")},{id:"progress",label:"Progresso",minWidth:100,align:"left",format:e=>e.toFixed(2)},{id:"actions",label:"A\xe7\xf5es",minWidth:50,align:"right",format:e=>e.toFixed(2)}];var e4=t(82831);function e9(){let e=(0,z._)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    gap: ",";\n  "]);return e9=function(){return e},e}function e8(){let e=(0,z._)(["\n  ",";\n"]);return e8=function(){return e},e}let e7=(0,G.Ay)("div")(e8(),e=>{let{theme:n}=e;return(0,q.AH)(e9(),n.spacing(1))}),e6=e=>{let{setModalCourseOpen:n}=eH();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e7,{children:(0,r.jsx)(eI.A,{onClick:()=>{n({open:!0,course:e})},children:(0,r.jsx)(eS.A,{})})})})};var ne=t(41950);let nn=e=>{var n;let{selectedClassRoom:t}=eH(),{trigger:a}=_(),[i,l]=(0,u.useState)(null!==(n=e.enabled)&&void 0!==n&&n),o=n=>{if(n){l(!0);try{a({classRoomId:t,courseId:e.id}),(0,c.showSnackBar)({message:"Curso ".concat(e.name," habilitado com sucesso!"),type:"success"})}catch(n){l(!1),console.error("Error enabling course:",n),(0,c.showSnackBar)({message:"Erro ao habilitar curso ".concat(e.name,"."),type:"error"})}}};return(0,r.jsx)(ne.A,{"aria-label":"Curso ".concat(e.name," ").concat(e.enabled?"habilitado":"desabilitado"),onChange:(e,n)=>o(n),defaultChecked:e.enabled,disabled:i},e.id)};var nt=t(63794);function nr(){let e=(0,z._)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    gap: ",";\n  "]);return nr=function(){return e},e}function na(){let e=(0,z._)(["\n  ",";\n"]);return na=function(){return e},e}let ni=(0,G.Ay)("div")(na(),e=>{let{theme:n}=e;return(0,q.AH)(nr(),n.spacing(1))}),nl=e=>{let{student:n}=e,{setStudentView:t}=eW();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(ni,{children:(0,r.jsx)(eI.A,{onClick:()=>{t({open:!0,student:n})},children:(0,r.jsx)(nt.A,{})})})})},no={label:"Nome"},ns={label:"E-mail"},nd=[{id:"name",label:"Curso",minWidth:290},{id:"startDate",label:"Data de in\xedcio",minWidth:100,align:"left"},{id:"endDate",label:"Data de t\xe9rmino",minWidth:100,align:"left"},{id:"progress",label:"Progresso",minWidth:100,align:"center"}],nc=[{id:"name",label:"Curso",minWidth:250},{id:"startDate",label:"Data de in\xedcio",minWidth:100,align:"left"},{id:"endDate",label:"Data de t\xe9rmino",minWidth:100,align:"left"},{id:"progress",label:"Progresso",minWidth:100,align:"center"}];function nu(){let e=(0,z._)(["\n    margin-top: ",";\n    position: relative;\n  "]);return nu=function(){return e},e}function nm(){let e=(0,z._)(["\n  ","\n"]);return nm=function(){return e},e}let np=(0,G.Ay)(Q.A)(nm(),e=>{let{theme:n}=e;return(0,q.AH)(nu(),n.spacing(4))});var ng=t(24544),nf=t(33546);let nA=e=>null==e?void 0:e.map(e=>{var n;return{id:e.id,name:e.name,startDate:e.startDate||"-",endDate:e.endDate||"-",progress:(0,r.jsx)(ng.A,{title:e.progress>0?"".concat(e.progress,"% conclu\xeddo"):"Progresso do curso",children:(0,r.jsx)(e4.A,{variant:"determinate",value:e.progress||0})}),collapse:(0,r.jsx)(c.SimpleTable,{columns:nc,rows:null===(n=e.lessons)||void 0===n?void 0:n.map(e=>({id:e.id,name:e.name,startDate:e.startDate||"-",endDate:e.endDate||"-",progress:(0,r.jsx)(ng.A,{title:e.endDate?"Li\xe7\xe3o conclu\xedda":"Li\xe7\xe3o pendente",children:(0,r.jsx)("div",{children:(0,r.jsx)(nf.A,{defaultChecked:!!e.endDate,disabled:!0})})})}))})}}),nh=()=>{var e,n,t;let{studentView:i,setStudentView:l}=eW(),{data:o,isLoading:s}=M((null==i?void 0:null===(e=i.student)||void 0===e?void 0:e.id)||null);return(0,r.jsxs)(c.ActionDialog,{open:i.open,title:"Visualizar Aluno",onClose:()=>{l({open:!1})},maxWidth:"md",fullWidth:!0,children:[(0,r.jsxs)(w.A,{container:!0,spacing:2,children:[(0,r.jsx)(w.A,{size:6,children:(0,r.jsx)(U.A,{fullWidth:!0,label:no.label,variant:"outlined",value:(null==i?void 0:null===(n=i.student)||void 0===n?void 0:n.name)||"Nome do Estudante",disabled:!0})}),(0,r.jsx)(w.A,{size:6,children:(0,r.jsx)(U.A,{fullWidth:!0,label:ns.label,variant:"outlined",value:(null==i?void 0:null===(t=i.student)||void 0===t?void 0:t.email)||"estudante@email.com",disabled:!0})})]}),(0,r.jsxs)(np,{children:[(0,r.jsx)(a.A,{variant:"h5",component:"h3",mb:1.5,children:"Gest\xe3o de Aulas"}),(0,r.jsx)(c.CollapsibleTable,{columns:nd,rows:nA((null==o?void 0:o.courses)||[]),page:1,rowsPerPage:10}),s&&(0,r.jsx)(c.Loader,{isFullScreen:!1})]})]})},nv=e=>null==e?void 0:e.map(e=>({enabled:(0,r.jsx)(nn,{...e}),name:e.name,"start-date":e.startDate||"-","end-date":e.endDate||"-",progress:(0,r.jsx)(e4.A,{variant:"determinate",value:50}),actions:(0,r.jsx)(e6,{...e})})),nx=()=>{var e,n,t;let{classRooms:u,classRoomCourses:m,isLoadingClasses:p,isLoadingCourses:g,setModalCourseOpen:f,setSelectedClassRoom:A,classRoomCoursesPage:h,setClassRoomCoursesPage:v}=eH(),{classRoomForm:x,openClassRoomForm:j,closeClassRoomForm:O}=eq();return p?(0,r.jsx)(c.Loader,{}):(0,r.jsxs)(e2,{children:[(0,r.jsx)(a.A,{variant:"h3",component:"h1",children:"Gest\xe3o de Aula"}),(0,r.jsxs)(e5,{children:[(0,r.jsxs)(i.A,{sx:{minWidth:140},size:"small",children:[(0,r.jsx)(l.A,{id:"transaction-select-label",children:"Classe"}),(0,r.jsx)(o.A,{label:"Tipo de transa\xe7\xe3o",labelId:"transaction-select-label",defaultValue:null==u?void 0:u[0].id,onChange:e=>{A(e.target.value)},children:null==u?void 0:u.map(e=>(0,r.jsx)(s.A,{value:e.id,children:e.name},e.id))})]}),(0,r.jsx)(d.A,{variant:"contained",color:"primary",onClick:()=>j(),children:"Adicionar nova classe"})]}),(0,r.jsx)(c.PaginatedTable,{columns:e3,rows:nv(null!==(n=null==m?void 0:m.items)&&void 0!==n?n:[]),page:h,totalRows:null!==(t=null==m?void 0:null===(e=m.meta)||void 0===e?void 0:e.totalItems)&&void 0!==t?t:0,onChangePage:e=>v(e),loading:g,rowsPerPage:10,actions:(0,r.jsx)(d.A,{variant:"contained",color:"primary",onClick:()=>f({open:!0,course:null}),children:"Adicionar novo curso"})}),(0,r.jsx)(eQ,{open:x.open,defaultValues:x.defaultValues,onClose:O})]})};function nj(){let e=(0,z._)(["\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n    width: 100%;\n  "]);return nj=function(){return e},e}function nO(){let e=(0,z._)(["\n  ",";\n"]);return nO=function(){return e},e}function nb(){let e=(0,z._)(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    gap: ",";\n  "]);return nb=function(){return e},e}function n_(){let e=(0,z._)(["\n  ",";\n"]);return n_=function(){return e},e}function nS(){let e=(0,z._)(["\n    display: flex;\n    gap: ",";\n    justify-content: space-between;\n    width: 100%;\n  "]);return nS=function(){return e},e}function nI(){let e=(0,z._)(["\n  ",";\n"]);return nI=function(){return e},e}function nR(){let e=(0,z._)([""]);return nR=function(){return e},e}function ny(){let e=(0,z._)(["\n  ",";\n"]);return ny=function(){return e},e}let nC=(0,G.Ay)("div")(nO(),e=>{let{theme:n}=e;return(0,q.AH)(nj(),n.spacing(3))});(0,G.Ay)("aside")(n_(),e=>{let{theme:n}=e;return(0,q.AH)(nb(),n.spacing(2))});let nE=(0,G.Ay)("div")(nI(),e=>{let{theme:n}=e;return(0,q.AH)(nS(),n.spacing(2))});(0,G.Ay)("div")(ny(),e=>{let{theme:n}=e;return(0,q.AH)(nR())});let nL=[{id:"name",label:"Nome",minWidth:100},{id:"email",label:"Email",minWidth:200,align:"left",format:e=>e.toLocaleString("pt-BR")},{id:"birthDate",label:"Data de nascimento",minWidth:200,align:"left",format:e=>e.toLocaleString("pt-BR")},{id:"progress",label:"Progresso",minWidth:100,align:"left",format:e=>e.toFixed(2)},{id:"actions",label:"A\xe7\xf5es",minWidth:50,align:"right",format:e=>e.toFixed(2)}],nD=e=>null==e?void 0:e.map(e=>({name:e.name,email:e.email,birthDate:e.birthDate,progress:(0,r.jsx)(e4.A,{variant:"determinate",value:50}),actions:(0,r.jsx)(nl,{student:e})})),nT=()=>{var e,n,t;let{classRooms:u,classRoomStudents:m,isLoadingClasses:p,isLoadingStudents:g,setSelectedClassRoom:f,setClassRoomStudentsPage:A,classRoomStudentsPage:h}=eW(),{classRoomForm:v,openClassRoomForm:x,closeClassRoomForm:j}=eq();return p?(0,r.jsx)(c.Loader,{}):(0,r.jsxs)(nC,{children:[(0,r.jsx)(a.A,{variant:"h3",component:"h1",children:"Gest\xe3o de Alunos"}),(0,r.jsxs)(nE,{children:[(0,r.jsxs)(i.A,{sx:{minWidth:140},size:"small",children:[(0,r.jsx)(l.A,{id:"transaction-select-label",children:"Classe"}),(0,r.jsx)(o.A,{label:"Tipo de transa\xe7\xe3o",labelId:"transaction-select-label",defaultValue:null==u?void 0:u[0].id,onChange:e=>{f(e.target.value)},children:null==u?void 0:u.map(e=>(0,r.jsx)(s.A,{value:e.id,children:e.name},e.id))})]}),(0,r.jsx)(d.A,{variant:"contained",color:"primary",onClick:()=>x(),children:"Adicionar nova classe"})]}),(0,r.jsx)(c.PaginatedTable,{columns:nL,rows:nD(null!==(n=null==m?void 0:m.items)&&void 0!==n?n:[]),page:h,rowsPerPage:10,totalRows:null!==(t=null==m?void 0:null===(e=m.meta)||void 0===e?void 0:e.totalItems)&&void 0!==t?t:0,onChangePage:e=>A(e),loading:g}),(0,r.jsx)(nh,{}),(0,r.jsx)(eQ,{open:v.open,defaultValues:v.defaultValues,onClose:j})]})}},5657:(e,n,t)=>{t.d(n,{G5:()=>p,L7:()=>u,FH:()=>d,xB:()=>m,QH:()=>a,zt:()=>o});let r={HOME:"/",LOGIN:"/login"},a=()=>r,i="".concat("/","assets"),l={AUTH_API:"/auth",FINANCES_API:"/finances",GOALS_API:"/goals",USER_API:"/user",COURSE_API:"/course",COURSES_API:"/courses",COURSER_API:"/courser",STUDENT_API:"/student",STUDENTS_API:"/students",CLASS_ROOM_API:"/class-room",LESSON_API:"/lesson",PUBLIC:{ROOT:"/",ASSETS:{ROOT:i,IMAGES:"".concat(i,"/images")}}},o=()=>l;var s=t(85010);let d=(0,s.ok)({baseUrl:"http://localhost:3000/api"},{timeout:5e4},{onError:e=>{throw e}}),c=async e=>{let n={...e.headers};{var r;let{getSession:e}=await Promise.resolve().then(t.t.bind(t,35460,23)),a=await e(),i=null==a?void 0:null===(r=a.user)||void 0===r?void 0:r.accessToken;n={...n,Authorization:i?"Bearer ".concat(i):""}}return n};d.client.interceptors.request.use(async e=>{if((0,s.Bk)()){let n=await c(e);e.headers=n}return e},function(e){return Promise.reject(e)});let u=(e,n)=>({id:"".concat(e,"-tab-").concat(n),"aria-controls":"".concat(e,"-tabpanel-").concat(n)}),m=e=>e?e.split(" ").map(e=>e.charAt(0).toUpperCase()).join("").slice(0,2):"--";var p=function(e){return e.ALL="all",e.EXPENSE="expense",e.INCOME="income",e}({})}}]);