"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44],{5657:(n,t,e)=>{e.d(t,{G5:()=>x,L7:()=>d,FH:()=>a,xB:()=>f,QH:()=>i,zt:()=>c});let r={HOME:"/",LOGIN:"/login"},i=()=>r,l="".concat("/","assets"),o={AUTH_API:"/auth",FINANCES_API:"/finances",GOALS_API:"/goals",USER_API:"/user",COURSE_API:"/course",COURSES_API:"/courses",COURSER_API:"/courser",STUDENT_API:"/student",STUDENTS_API:"/students",CLASS_ROOM_API:"/class-room",LESSON_API:"/lesson",PUBLIC:{ROOT:"/",ASSETS:{ROOT:l,IMAGES:"".concat(l,"/images")}}},c=()=>o;var u=e(85010);let a=(0,u.ok)({baseUrl:"http://localhost:3000/api"},{timeout:5e4},{onError:n=>{throw n}}),s=async n=>{let t={...n.headers};{var r;let{getSession:n}=await Promise.resolve().then(e.t.bind(e,35460,23)),i=await n(),l=null==i?void 0:null===(r=i.user)||void 0===r?void 0:r.accessToken;t={...t,Authorization:l?"Bearer ".concat(l):""}}return t};a.client.interceptors.request.use(async n=>{if((0,u.Bk)()){let t=await s(n);n.headers=t}return n},function(n){return Promise.reject(n)});let d=(n,t)=>({id:"".concat(n,"-tab-").concat(t),"aria-controls":"".concat(n,"-tabpanel-").concat(t)}),f=n=>n?n.split(" ").map(n=>n.charAt(0).toUpperCase()).join("").slice(0,2):"--";var x=function(n){return n.ALL="all",n.EXPENSE="expense",n.INCOME="income",n}({})},58044:(n,t,e)=>{e.d(t,{an:()=>k,o5:()=>n_,B4:()=>n6});var r=e(6029),i=e(73908),l=e(80240),o=e(42578),c=e(33403);let u=(0,c.A)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");var a=e(55729),s=e(35460),d=e(57165),f=e(5657);let x=(0,f.zt)(),p=n=>f.FH.get(x.COURSE_API,{headers:n?{Authorization:"Bearer ".concat(n)}:{}}).then(n=>n.data),v=()=>(0,d.Ay)(x.COURSE_API,p);var h=e(49998);let A=(0,f.zt)(),g=(n,t)=>"".concat(A.STUDENT_API,"/").concat(n).concat(A.COURSE_API,"/").concat(t),m=(n,t)=>"".concat(A.STUDENT_API,"/").concat(n).concat(A.COURSER_API,"/").concat(t),y=(n,t)=>"".concat(A.STUDENT_API,"/").concat(n).concat(A.LESSON_API,"/").concat(t),_=(n,t,e)=>f.FH.get(m(n,t),{headers:e?{Authorization:"Bearer ".concat(e)}:{}}).then(n=>n.data),j=(n,t)=>{let e=n?"".concat(m(n,t)):null;return(0,d.Ay)(e,()=>_(n,t))},b=(n,t)=>f.FH.patch("".concat(y(n,t),"/check")),S=(n,t)=>{let e=n?"".concat(y(n,t),"/check"):null;return(0,h.A)(e,()=>b(n,t))},w=(n,t)=>f.FH.patch("".concat(y(n,t),"/finish")),C=(n,t)=>{let e=n?"".concat(y(n,t),"/finish"):null;return(0,h.A)(e,()=>w(n,t))},H=(n,t)=>f.FH.patch("".concat(g(n,t),"/check")),I=(n,t)=>{let e=n?"".concat(g(n,t),"/check"):null;return(0,h.A)(e,()=>H(n,t))},E=(0,a.createContext)({}),k=n=>{var t,e,l,o,c;let{children:u,courseId:d}=n,{data:f}=(0,s.useSession)(),{data:x,isLoading:p,mutate:v}=j(null!==(l=null==f?void 0:null===(t=f.user)||void 0===t?void 0:t.id)&&void 0!==l?l:"",d),h=(0,a.useMemo)(()=>null==x?void 0:x.lessons,[x]),[A,g]=(0,a.useState)(0),[m,y]=(0,a.useState)(!1),_=(0,a.useMemo)(()=>{var n;return A===(null!==(n=null==h?void 0:h.length)&&void 0!==n?n:0)-1},[A,h]),b=(0,a.useCallback)(n=>{var t,e;g(n<0?0:n>=(null!==(t=null==h?void 0:h.length)&&void 0!==t?t:0)?(null!==(e=null==h?void 0:h.length)&&void 0!==e?e:1)-1:n)},[h]),w=(0,a.useMemo)(()=>{var n;return null!==(n=null==h?void 0:h[A])&&void 0!==n?n:null},[h,A]),{trigger:C,isMutating:H}=S(null!==(o=null==f?void 0:null===(e=f.user)||void 0===e?void 0:e.id)&&void 0!==o?o:"",null!==(c=null==w?void 0:w.id)&&void 0!==c?c:"");(0,a.useEffect)(()=>{if(h&&h.length>0&&0===A){let n=h.findIndex(n=>!n.endDate);g(-1!==n?n:h.length-1)}},[h]),(0,a.useEffect)(()=>{(async()=>{w&&!w.startDate&&(h.slice(0,A).some(n=>!n.endDate)?y(!0):(await C(),await v()))})()},[w]);let I=(0,a.useMemo)(()=>{var n;return null!==(n=null==h?void 0:h.every(n=>n.endDate))&&void 0!==n&&n},[h]),k=(0,a.useCallback)(async()=>{await C(),await v(),y(!1)},[C,v]);return(0,r.jsxs)(E.Provider,{value:{lessons:h,selectedLesson:w,isLoading:p,currentStep:A,isLastStep:_,isCourseFinished:I,setSelectedLesson:b,setConfirmationDialogOpen:y,updateCourse:v},children:[u,(0,r.jsx)(i.ConfirmationDialog,{title:"Iniciar li\xe7\xe3o",text:"Deseja iniciar a li\xe7\xe3o ".concat(null==w?void 0:w.name,"? Voc\xea ainda tem uma li\xe7\xe3o anterior pendente."),open:m,isLoading:H,cancelButtonText:"Ainda n\xe3o",successButtonText:"Iniciar li\xe7\xe3o",handleSuccess:k,handleCancel:()=>y(!1)})]})},P=()=>(0,a.useContext)(E);var z=e(34437);let T=()=>{var n,t,e;let{data:l}=(0,s.useSession)(),[o,c]=(0,a.useState)(!1),{selectedLesson:u,currentStep:d,isLastStep:f,isCourseFinished:x,setSelectedLesson:p,updateCourse:v}=P(),{trigger:h,isMutating:A}=C(null!==(t=null==l?void 0:null===(n=l.user)||void 0===n?void 0:n.id)&&void 0!==t?t:"",null!==(e=null==u?void 0:u.id)&&void 0!==e?e:""),g=(0,a.useCallback)(()=>{c(!0)},[]),m=(0,a.useCallback)(async()=>{await h(),await v(),c(!1),f||p(d+1)},[h,v,f,p]);return(0,r.jsxs)(r.Fragment,{children:[(null==u?void 0:u.startDate)&&!(null==u?void 0:u.endDate)&&(0,r.jsx)(z.A,{variant:"contained",onClick:g,disabled:A,children:"Finalizar li\xe7\xe3o"}),x&&(0,r.jsx)(z.A,{variant:"contained",disabled:!0,children:"Curso finalizado"}),(0,r.jsx)(i.ConfirmationDialog,{title:"Finalizar li\xe7\xe3o",text:'Deseja finalizar a li\xe7\xe3o "'.concat(null==u?void 0:u.name,'"?'),open:o,isLoading:A,cancelButtonText:"Cancelar",successButtonText:"Finalizar",handleSuccess:m,handleCancel:()=>c(!1)})]})};var O=e(85966),L=e(50787),U=e(83004);function D(){let n=(0,O._)(["\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n    width: 100%;\n  "]);return D=function(){return n},n}function N(){let n=(0,O._)(["\n  ",";\n"]);return N=function(){return n},n}function B(){let n=(0,O._)(["\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n    width: 100%;\n  "]);return B=function(){return n},n}function R(){let n=(0,O._)(["\n  ",";\n"]);return R=function(){return n},n}function M(){let n=(0,O._)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: ",";\n    height: ",";\n    background-color: ",";\n    border-radius: 50%;\n  "]);return M=function(){return n},n}function F(){let n=(0,O._)(["\n  ",";\n"]);return F=function(){return n},n}let G=(0,L.Ay)("div")(N(),n=>{let{theme:t}=n;return(0,U.AH)(D(),t.spacing(2))}),V=(0,L.Ay)("div")(R(),n=>{let{theme:t}=n;return(0,U.AH)(B(),t.spacing(1))}),q=(0,L.Ay)("div")(F(),n=>{let{theme:t}=n;return(0,U.AH)(M(),t.spacing(2.5),t.spacing(2.5),t.palette.grey[300])}),Q=()=>{let{lessons:n,selectedLesson:t,setSelectedLesson:e}=P();return(0,r.jsxs)(G,{children:[(0,r.jsx)(i.Box,{children:(0,r.jsx)(V,{children:null==n?void 0:n.map((n,i)=>(0,r.jsxs)(l.A,{component:"button",selected:(null==t?void 0:t.id)===n.id,onClick:()=>e(i),children:[(0,r.jsx)(o.A,{primary:"".concat(i+1," - ").concat(null==n?void 0:n.name)}),(0,r.jsx)(q,{children:(null==n?void 0:n.endDate)&&(0,r.jsx)(u,{color:"primary"})})]},n.id))})}),(0,r.jsx)(T,{})]})};var X=e(42972),J=e(80824);let K=(0,c.A)((0,r.jsx)("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"}),"ArrowBackIosNew"),W=(0,c.A)((0,r.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");function Y(){let n=(0,O._)(["\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n    width: 100%;\n  "]);return Y=function(){return n},n}function Z(){let n=(0,O._)(["\n  ",";\n"]);return Z=function(){return n},n}function $(){let n=(0,O._)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    padding: ",";\n    border-bottom: 1px solid ",";\n  "]);return $=function(){return n},n}function nn(){let n=(0,O._)(["\n  ",";\n"]);return nn=function(){return n},n}function nt(){let n=(0,O._)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    padding: ",";\n  "]);return nt=function(){return n},n}function ne(){let n=(0,O._)(["\n  ",";\n"]);return ne=function(){return n},n}function nr(){let n=(0,O._)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  "]);return nr=function(){return n},n}function ni(){let n=(0,O._)(["\n  ",";\n"]);return ni=function(){return n},n}let nl=(0,L.Ay)("div")(Z(),n=>{let{theme:t}=n;return(0,U.AH)(Y(),t.spacing(1))}),no=(0,L.Ay)("div")(nn(),n=>{let{theme:t}=n;return(0,U.AH)($(),t.spacing(2),t.palette.divider)}),nc=(0,L.Ay)("div")(ne(),n=>{let{theme:t}=n;return(0,U.AH)(nt(),t.spacing(2))}),nu=(0,L.Ay)("div")(ni(),n=>{let{theme:t}=n;return(0,U.AH)(nr())}),na=n=>({video:(0,r.jsx)(i.Video,{title:null==n?void 0:n.name,src:null==n?void 0:n.url}),pdf:(0,r.jsx)("iframe",{src:"".concat(null==n?void 0:n.url),width:"100%",height:"600px",title:null==n?void 0:n.name,style:{border:"none"}}),form:(0,r.jsx)("iframe",{src:"".concat(null==n?void 0:n.url),width:"100%",height:"600px",title:null==n?void 0:n.name,style:{border:"none"}})})[null==n?void 0:n.type]||(0,r.jsx)(X.A,{children:"Tipo de conte\xfado n\xe3o suportado"}),ns=()=>{let{lessons:n,currentStep:t,selectedLesson:e,setSelectedLesson:l}=P();return(0,r.jsx)(i.Box,{children:(0,r.jsxs)(nl,{children:[(0,r.jsxs)(no,{children:[(0,r.jsxs)(X.A,{variant:"h4",component:"h1",children:[t+1," - ",null==e?void 0:e.name]}),(0,r.jsxs)(nu,{children:[(0,r.jsx)(J.A,{onClick:()=>l(t-1),disabled:t<=0,children:(0,r.jsx)(K,{})}),(0,r.jsx)(J.A,{onClick:()=>l(t+1),disabled:t===(null==n?void 0:n.length)-1,children:(0,r.jsx)(W,{})})]})]}),(0,r.jsx)(nc,{children:na(e)})]})})};function nd(){let n=(0,O._)(["\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n    width: 100%;\n  "]);return nd=function(){return n},n}function nf(){let n=(0,O._)(["\n  ",";\n"]);return nf=function(){return n},n}function nx(){let n=(0,O._)(["\n    display: grid;\n    grid-template-columns: 3fr 1fr;\n    gap: ",";\n\n    "," {\n      display: flex;\n      flex-direction: column;\n    }\n  "]);return nx=function(){return n},n}function np(){let n=(0,O._)(["\n  ",";\n"]);return np=function(){return n},n}function nv(){let n=(0,O._)(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    gap: ",";\n  "]);return nv=function(){return n},n}function nh(){let n=(0,O._)(["\n  ",";\n"]);return nh=function(){return n},n}function nA(){let n=(0,O._)(["\n  "]);return nA=function(){return n},n}function ng(){let n=(0,O._)(["\n  ",";\n"]);return ng=function(){return n},n}let nm=(0,L.Ay)("div")(nf(),n=>{let{theme:t}=n;return(0,U.AH)(nd(),t.spacing(3))}),ny=(0,L.Ay)("div")(np(),n=>{let{theme:t}=n;return(0,U.AH)(nx(),t.spacing(4),t.breakpoints.down("lg"))});(0,L.Ay)("aside")(nh(),n=>{let{theme:t}=n;return(0,U.AH)(nv(),t.spacing(2))}),(0,L.Ay)("div")(ng(),n=>{let{theme:t}=n;return(0,U.AH)(nA())});let n_=()=>{let{isLoading:n}=P();return n?(0,r.jsx)(i.Loader,{}):(0,r.jsx)(nm,{children:(0,r.jsxs)(ny,{children:[(0,r.jsx)(ns,{}),(0,r.jsx)(Q,{})]})})};var nj=e(82831),nb=e(81278);function nS(){let n=(0,O._)(["\n    display: flex;\n    align-items: center;\n    gap: ",";\n    padding: "," ",";\n    box-sizing: border-box;\n  "]);return nS=function(){return n},n}function nw(){let n=(0,O._)(["\n  ",";\n"]);return nw=function(){return n},n}function nC(){let n=(0,O._)(["\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    gap: ",";\n    width: 100%;\n  "]);return nC=function(){return n},n}function nH(){let n=(0,O._)(["\n  ",";\n"]);return nH=function(){return n},n}let nI=(0,L.Ay)("div")(nw(),n=>{let{theme:t}=n;return(0,U.AH)(nS(),t.spacing(1),t.spacing(.6),t.spacing(2))}),nE=(0,L.Ay)("div")(nH(),n=>{let{theme:t}=n;return(0,U.AH)(nC(),t.spacing(1))}),nk=n=>{let{title:t,content:e,icon:i}=n,l=(0,a.isValidElement)(e);return(0,r.jsxs)(nI,{children:[i,(0,r.jsxs)(nE,{children:[(0,r.jsx)(X.A,{variant:"caption",children:t}),l?e:(0,r.jsx)(X.A,{variant:"body1",children:e})]})]})};function nP(){let n=(0,O._)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    background-color: ",";\n    border-radius: ","px;\n    box-shadow: 0 2px 10px ",";\n    box-sizing: border-box;\n  "]);return nP=function(){return n},n}function nz(){let n=(0,O._)(["\n  ",";\n"]);return nz=function(){return n},n}function nT(){let n=(0,O._)(["\n    display: flex;\n    align-items: center;\n    width: 100%;\n    gap: ",";\n    padding: ",";\n    border-bottom: 1px solid ",";\n    box-sizing: border-box;\n  "]);return nT=function(){return n},n}function nO(){let n=(0,O._)(["\n  ",";\n"]);return nO=function(){return n},n}function nL(){let n=(0,O._)(["\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n  "]);return nL=function(){return n},n}function nU(){let n=(0,O._)(["\n  ",";\n"]);return nU=function(){return n},n}function nD(){let n=(0,O._)(["\n    display: flex;\n    align-items: center;\n    width: 100%;\n    gap: ",";\n    padding: ",";\n    border-bottom: 1px solid ",";\n    box-sizing: border-box;\n  "]);return nD=function(){return n},n}function nN(){let n=(0,O._)(["\n  ",";\n"]);return nN=function(){return n},n}function nB(){let n=(0,O._)(["\n    display: flex;\n    align-items: center;\n    width: 100%;\n    border-bottom: 1px solid ",";\n    box-sizing: border-box;\n    padding: "," 0;\n    & > div {\n      flex: 1;\n      &:not(:last-child) {\n        border-right: 1px solid ",";\n      }\n    }\n  "]);return nB=function(){return n},n}function nR(){let n=(0,O._)(["\n  ",";\n"]);return nR=function(){return n},n}function nM(){let n=(0,O._)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    width: 100%;\n    padding: ",";\n    box-sizing: border-box;\n  "]);return nM=function(){return n},n}function nF(){let n=(0,O._)(["\n  ",";\n"]);return nF=function(){return n},n}let nG=(0,L.Ay)("div")(nz(),n=>{let{theme:t}=n;return(0,U.AH)(nP(),t.palette.common.white,t.shape.borderRadius,t.palette.grey[200])}),nV=(0,L.Ay)("div")(nO(),n=>{let{theme:t}=n;return(0,U.AH)(nT(),t.spacing(1),t.spacing(2),t.palette.grey[200])}),nq=(0,L.Ay)("div")(nU(),n=>{let{theme:t}=n;return(0,U.AH)(nL(),t.spacing(.5))}),nQ=(0,L.Ay)("div")(nN(),n=>{let{theme:t}=n;return(0,U.AH)(nD(),t.spacing(1),t.spacing(2),t.palette.grey[200])}),nX=(0,L.Ay)("div")(nR(),n=>{let{theme:t}=n;return(0,U.AH)(nB(),t.palette.grey[200],t.spacing(2),t.palette.divider)}),nJ=(0,L.Ay)("div")(nF(),n=>{let{theme:t}=n;return(0,U.AH)(nM(),t.spacing(2))});var nK=e(35944);let nW={title:"Progresso",icon:(0,r.jsx)(nK.A,{})},nY=n=>{var t,e;let{id:l,name:o,description:c,progress:u,teacher:a,enabled:d}=n,{push:x}=(0,nb.useRouter)(),{data:p}=(0,s.useSession)(),{trigger:v}=I(null!==(e=null==p?void 0:null===(t=p.user)||void 0===t?void 0:t.id)&&void 0!==e?e:"",l);return(0,r.jsxs)(nG,{children:[(0,r.jsxs)(nV,{children:[(0,r.jsx)(i.Avatar,{acronym:(0,f.xB)(a.name)}),(0,r.jsxs)(nq,{children:[(0,r.jsx)(X.A,{variant:"caption",children:"Professor"}),(null==a?void 0:a.name)&&(0,r.jsx)(X.A,{variant:"caption",children:a.name})]})]}),(0,r.jsx)(nQ,{children:(0,r.jsx)(X.A,{variant:"h3",children:o})}),(0,r.jsx)(nQ,{children:(0,r.jsx)(X.A,{variant:"body1",children:c})}),(0,r.jsx)(nX,{children:(0,r.jsx)(nk,{title:"".concat(nW.title," (").concat(null!=u?u:0,"%)"),content:(0,r.jsx)(nj.A,{variant:"determinate",value:u||0}),icon:nW.icon})}),(0,r.jsx)(nJ,{children:(0,r.jsx)(z.A,{variant:"contained",disabled:!d,onClick:()=>{u||v(),x("/cursos/".concat(l))},children:d?"Ver curso":"Indispon\xedvel"})})]})};function nZ(){let n=(0,O._)(["\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n    width: 100%;\n  "]);return nZ=function(){return n},n}function n$(){let n=(0,O._)(["\n  ",";\n"]);return n$=function(){return n},n}function n0(){let n=(0,O._)(["\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    gap: ",";\n\n    "," {\n      grid-template-columns: repeat(1, 1fr);\n    }\n  "]);return n0=function(){return n},n}function n1(){let n=(0,O._)(["\n  ",";\n"]);return n1=function(){return n},n}function n2(){let n=(0,O._)(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    gap: ",";\n  "]);return n2=function(){return n},n}function n4(){let n=(0,O._)(["\n  ",";\n"]);return n4=function(){return n},n}function n5(){let n=(0,O._)([""]);return n5=function(){return n},n}function n7(){let n=(0,O._)(["\n  ",";\n"]);return n7=function(){return n},n}let n3=(0,L.Ay)("div")(n$(),n=>{let{theme:t}=n;return(0,U.AH)(nZ(),t.spacing(3))}),n8=(0,L.Ay)("div")(n1(),n=>{let{theme:t}=n;return(0,U.AH)(n0(),t.spacing(4),t.breakpoints.down("lg"))});(0,L.Ay)("aside")(n4(),n=>{let{theme:t}=n;return(0,U.AH)(n2(),t.spacing(2))}),(0,L.Ay)("div")(n7(),n=>{let{theme:t}=n;return(0,U.AH)(n5())});let n6=()=>{let{data:n}=v();return(0,r.jsxs)(n3,{children:[(0,r.jsx)(X.A,{variant:"h1",children:"Nossos cursos"}),(0,r.jsx)(n8,{children:null==n?void 0:n.map(n=>(0,r.jsx)(nY,{...n},n.id))})]})}}}]);